(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{310:function(e,t,r){"use strict";r.r(t);var l={name:"users",layout:"with-navbar",data:function(){return{addUserVisible:!1,user:{firstName:"",lastName:""},userRules:{firstName:[{required:!0,message:"Please set a first name",trigger:"blur"}],lastName:[{required:!0,message:"Please set a last name",trigger:"blur"}]},users:[]}},mounted:function(){this.loadUsers()},methods:{loadUsers:function(){var e=this;this.$axios.$get("/api/user").then(function(data){e.users=data})},addUser:function(e){var t=this;this.$refs[e].validate(function(e){return e&&(t.addUserVisible=!1,t.$axios.$post("/api/user?firstName="+t.user.firstName+"&lastName="+t.user.lastName).then(function(e){t.$message({type:"success",message:"User added with success"}),t.user={firstName:"",lastName:""},t.loadUsers()}).catch(function(e){t.$message({type:"error",message:"An error occured: "+e})})),e})}}},n=r(14),component=Object(n.a)(l,function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"dataview"},[r("el-table",{staticStyle:{width:"100%"},attrs:{data:e.users}},[r("el-table-column",{attrs:{prop:"id",label:"ID",width:"50"}}),e._v(" "),r("el-table-column",{attrs:{prop:"firstName",label:"First Name"}}),e._v(" "),r("el-table-column",{attrs:{prop:"lastName",label:"Last Name"}})],1),e._v(" "),r("div",{staticClass:"button-bar"},[r("el-button",{on:{click:function(t){e.addUserVisible=!0}}},[e._v("Add user")])],1),e._v(" "),r("el-dialog",{attrs:{title:"Add a user",visible:e.addUserVisible},on:{"update:visible":function(t){e.addUserVisible=t}}},[r("el-form",{ref:"userForm",attrs:{model:e.user,rules:e.userRules,"label-width":"200px"}},[r("el-form-item",{attrs:{label:"First name",prop:"firstName"}},[r("el-input",{model:{value:e.user.firstName,callback:function(t){e.$set(e.user,"firstName",t)},expression:"user.firstName"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"Last name",prop:"lastName"}},[r("el-input",{model:{value:e.user.lastName,callback:function(t){e.$set(e.user,"lastName",t)},expression:"user.lastName"}})],1),e._v(" "),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.addUser("userForm")}}},[e._v("Add")]),e._v(" "),r("el-button",{on:{click:function(t){e.addUserVisible=!1}}},[e._v("Cancel")])],1)],1)],1)],1)},[],!1,null,null,null);t.default=component.exports}}]);